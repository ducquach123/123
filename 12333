-- Mini Menu GUI Script (FULL CUSTOM VERSION)
-- ƒê·∫∑t trong StarterGui ho·∫∑c StarterPlayerScripts (LocalScript)

local Players = game:GetService('Players')
local UserInputService = game:GetService('UserInputService')

local player = Players.LocalPlayer
local playerGui = player:WaitForChild('PlayerGui')

-- üñ•Ô∏è T·∫°o ScreenGui
local screenGui = Instance.new('ScreenGui')
screenGui.Name = 'MiniMenu'
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- üéõÔ∏è Frame ch√≠nh
local mainFrame = Instance.new('Frame')
mainFrame.Name = 'MainFrame'
mainFrame.Size = UDim2.new(0, 200, 0, 125)
mainFrame.Position = UDim2.new(0, 10, 1, -135) -- G√≥c d∆∞·ªõi tr√°i
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

local corner = Instance.new('UICorner')
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = mainFrame

-- üè∑Ô∏è Ti√™u ƒë·ªÅ
local title = Instance.new('TextLabel')
title.Name = 'Title'
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
title.Text = 'Menu'
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 14
title.Parent = mainFrame

local titleCorner = Instance.new('UICorner')
titleCorner.CornerRadius = UDim.new(0, 10)
titleCorner.Parent = title

-- üî¥ N√∫t 1: X√≥a Avatar
local btnClearAvatar = Instance.new('TextButton')
btnClearAvatar.Name = 'ClearAvatarBtn'
btnClearAvatar.Size = UDim2.new(1, -20, 0, 35)
btnClearAvatar.Position = UDim2.new(0, 10, 0, 40)
btnClearAvatar.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
btnClearAvatar.Text = 'X√≥a Avatar (T·∫•t c·∫£)'
btnClearAvatar.TextColor3 = Color3.fromRGB(255, 255, 255)
btnClearAvatar.Font = Enum.Font.Gotham
btnClearAvatar.TextSize = 13
btnClearAvatar.Parent = mainFrame

local btn1Corner = Instance.new('UICorner')
btn1Corner.CornerRadius = UDim.new(0, 6)
btn1Corner.Parent = btnClearAvatar

-- üîµ N√∫t 2: Spam Slap
local btnSpamSlap = Instance.new('TextButton')
btnSpamSlap.Name = 'SpamSlapBtn'
btnSpamSlap.Size = UDim2.new(1, -20, 0, 35)
btnSpamSlap.Position = UDim2.new(0, 10, 0, 80)
btnSpamSlap.BackgroundColor3 = Color3.fromRGB(50, 150, 220)
btnSpamSlap.Text = 'Spam Slap: OFF (R ƒë·ªÉ b·∫≠t/t·∫Øt)'
btnSpamSlap.TextColor3 = Color3.fromRGB(255, 255, 255)
btnSpamSlap.Font = Enum.Font.Gotham
btnSpamSlap.TextSize = 13
btnSpamSlap.Parent = mainFrame

local btn2Corner = Instance.new('UICorner')
btn2Corner.CornerRadius = UDim.new(0, 6)
btn2Corner.Parent = btnSpamSlap

-- ‚öôÔ∏è Bi·∫øn spam
local isSpamming = false

-- üßπ H√†m x√≥a avatar
local function clearMyAvatar()
    player:ClearCharacterAppearance()
    print('‚úÖ ƒê√£ x√≥a outfit c·ªßa B·∫†N!')
end

local function clearAllAvatars()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr.Character then
            plr:ClearCharacterAppearance()
        end
    end
    print('‚úÖ ƒê√£ x√≥a outfit c·ªßa T·∫§T C·∫¢ ng∆∞·ªùi ch∆°i (local only)')
end

-- üöÄ Khi execute: t·ª± ƒë·ªông x√≥a outfit c·ªßa ch√≠nh b·∫°n
if player.Character then
    clearMyAvatar()
else
    player.CharacterAdded:Wait()
    clearMyAvatar()
end

-- üîç H√†m t√¨m tool Slap
local function getSlapTool()
    local backpack = player:WaitForChild('Backpack')
    for _, item in pairs(backpack:GetChildren()) do
        if
            item:IsA('Tool') and string.find(string.lower(item.Name), 'slap')
        then
            return item
        end
    end

    local character = player.Character
    if character then
        for _, item in pairs(character:GetChildren()) do
            if
                item:IsA('Tool')
                and string.find(string.lower(item.Name), 'slap')
            then
                return item
            end
        end
    end
    return nil
end

-- üîÅ H√†m spam slap
local function startSpamSlap()
    task.spawn(function()
        while isSpamming do
            local character = player.Character
            if character then
                local humanoid = character:FindFirstChild('Humanoid')
                local tool = getSlapTool()

                if humanoid and tool then
                    if tool.Parent == player.Backpack then
                        humanoid:EquipTool(tool)
                    end
                    task.wait(0.1)
                else
                    task.wait(0.5)
                end
            else
                task.wait(0.5)
            end
        end
    end)
end

local function stopSpamSlap()
    isSpamming = false
end

-- üéØ N√∫t x√≥a avatar (click)
btnClearAvatar.MouseButton1Click:Connect(function()
    clearAllAvatars()
    btnClearAvatar.BackgroundColor3 = Color3.fromRGB(100, 220, 100)
    task.wait(0.2)
    btnClearAvatar.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
end)

-- üü¢ N√∫t Spam Slap (click toggle)
btnSpamSlap.MouseButton1Click:Connect(function()
    isSpamming = not isSpamming

    if isSpamming then
        btnSpamSlap.Text = 'Spam Slap: ON (R ƒë·ªÉ b·∫≠t/t·∫Øt)'
        btnSpamSlap.BackgroundColor3 = Color3.fromRGB(50, 220, 100)
        startSpamSlap()
    else
        btnSpamSlap.Text = 'Spam Slap: OFF (R ƒë·ªÉ b·∫≠t/t·∫Øt)'
        btnSpamSlap.BackgroundColor3 = Color3.fromRGB(50, 150, 220)
        stopSpamSlap()
    end
end)

-- ‚å®Ô∏è Ph√≠m R b·∫≠t/t·∫Øt Spam Slap
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then
        return
    end

    if input.KeyCode == Enum.KeyCode.R then
        isSpamming = not isSpamming

        if isSpamming then
            btnSpamSlap.Text = 'Spam Slap: ON (R ƒë·ªÉ b·∫≠t/t·∫Øt)'
            btnSpamSlap.BackgroundColor3 = Color3.fromRGB(50, 220, 100)
            startSpamSlap()
        else
            btnSpamSlap.Text = 'Spam Slap: OFF (R ƒë·ªÉ b·∫≠t/t·∫Øt)'
            btnSpamSlap.BackgroundColor3 = Color3.fromRGB(50, 150, 220)
            stopSpamSlap()
        end
    end
end)

print('‚úÖ Mini Menu loaded ho√†n t·∫•t!')
